<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ratings & Reviews - Recipe App</title>
    <link rel="stylesheet" href="../assets/css/styles.css">
</head>
<body>
    <header>
        <h1>Recipe Management System</h1>
        <nav>
            <ul>
                <li><a href="home.html">Home</a></li>
                <li><a href="search.html">Search Recipes</a></li>
                <li><a href="favorites.html">Favorites</a></li>
                <li><a href="recommendations.html">Recommendations</a></li>
                <li><a href="profile.html">Profile</a></li>
                <li><a href="logout.html">Logout</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="ratings">
            <h2>Ratings & Reviews</h2>

            <div class="review-form">
                <h3>Submit a Review</h3>
                <label for="recipeSelect">Choose a Recipe:</label>
                <select id="recipeSelect">
                    <option value="1">Grilled Salmon</option>
                    <option value="2">Mango Smoothie</option>
                    <option value="3">Quinoa Salad</option>
                </select>

                <label for="rating">Rating (0-5):</label>
                <input type="number" id="rating" min="0" max="5" step="0.5">

                <label for="reviewText">Your Review:</label>
                <textarea id="reviewText" rows="4"></textarea>

                <button onclick="submitReview()">Submit Review</button>
            </div>

            <h3>Recent Reviews</h3>
            <div id="reviewsContainer">
                <p>Loading reviews...</p>
            </div>
        </section>
    </main>

    <script>
        function loadReviews() {
            // Placeholder data (to be replaced with backend fetch)
            let reviews = [
                { recipe: "Grilled Salmon", rating: 5, text: "Delicious and easy to make!" },
                { recipe: "Mango Smoothie", rating: 4.5, text: "Refreshing and tasty." },
                { recipe: "Quinoa Salad", rating: 4, text: "Healthy and light meal." }
            ];

            let container = document.getElementById("reviewsContainer");
            container.innerHTML = ""; 

            if (reviews.length === 0) {
                container.innerHTML = "<p>No reviews yet. Be the first to review!</p>";
                return;
            }

            reviews.forEach(review => {
                let div = document.createElement("div");
                div.classList.add("review-item");
                div.innerHTML = `
                    <h4>${review.recipe}</h4>
                    <p><strong>Rating:</strong> ${review.rating}/5</p>
                    <p>${review.text}</p>
                `;
                container.appendChild(div);
            });
        }

        function submitReview() {
            let recipe = document.getElementById("recipeSelect").value;
            let rating = document.getElementById("rating").value;
            let reviewText = document.getElementById("reviewText").value;

            if (!rating || rating < 0 || rating > 5) {
                alert("Please enter a valid rating between 0 and 5.");
                return;
            }

            alert("Review submitted successfully!");
            loadReviews(); // Refresh list
        }

        window.onload = loadReviews;
    </script>
</body>
</html>